!function(n){"use strict";n.fn.UnicampNiceSelect=function(e){var c="focused",l="selected";return this.each(function(){var s=n(this),e=n(this).data("select"),t="",e=e.fieldLabel?'<span class="label">'+e.fieldLabel+"</span>":"",a=n('<div class="unicamp-nice-select-current">'+e+'<span class="value"></span></div>');s.children("option").each(function(){var e="item";n(this).is(":selected")&&(a.find(".value").text(n(this).text()),e+=" "+l),t+='<li class="'+e+'" data-value="'+n(this).val()+'">'+n(this).text()+"</li>"});var t='<ul class="unicamp-nice-select">'+t+"</ul>",i=n('<div class="unicamp-nice-select-wrap"></div>');i.append(a).append(t),a.on("click",function(){i.addClass(c)}),i.on("click","li",function(){var e;i.removeClass(c),n(this).hasClass(l)||(n(this).siblings().removeClass(l),n(this).addClass(l),e=n(this).data("value"),a.find(".value").text(n(this).text()),s.val(e),s.trigger("change"))}),n(document).on("click touchstart",function(e){0==n(e.target).closest(i).length&&i.removeClass(c)}),s.hide().after(i)})}}(jQuery);