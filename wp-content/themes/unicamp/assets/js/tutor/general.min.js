!function(o){"use strict";var t=o("body");function e(){1200<=window.innerWidth?(t.addClass("dashboard-nav-fixed"),t.removeClass("dashboard-nav-opened")):t.removeClass("dashboard-nav-fixed");var e=window.innerHeight-o(".dashboard-nav-header").outerHeight()-50;o(".dashboard-nav-content-inner").height(e).perfectScrollbar({suppressScrollX:!0})}o(document).ready(function(){o(document).on("click",".unicamp-course-wishlist-btn",function(e){var a;e.preventDefault(),o("body").hasClass("logged-in")&&(e=(a=o(this)).attr("data-course-id"),o.ajax({url:$unicamp.ajaxurl,type:"POST",data:{course_id:e,action:"tutor_course_add_to_wishlist"},beforeSend:function(){a.children(".button-content-wrapper").addClass("updating-icon")},success:function(e){var t;e.success?(t=a.parent(".tm-button-wrapper"),"added"===e.data.status?(t.attr("aria-label",$unicampCourseWishlist.addedText),t.addClass("added"),a.addClass("has-wish-listed"),a.find(".button-text").text($unicampCourseWishlist.addedText)):(t.attr("aria-label",$unicampCourseWishlist.addText),t.removeClass("added"),a.removeClass("has-wish-listed"),a.find(".button-text").text($unicampCourseWishlist.addText))):window.location=e.data.redirect_to},complete:function(){a.children(".button-content-wrapper").removeClass("updating-icon")}}))}),o(document).on("click",".custom_tutor_submit_review_btn",function(e){e.preventDefault();var t=o(this),a=t.closest("form").find('input[name="tutor_rating_gen_input"]').val(),n=(n=t.closest("form").find('textarea[name="review"]').val()).trim(),e=o('input[name="tutor_course_id"]').val();n&&o.ajax({url:_tutorobject.ajaxurl,type:"POST",data:{course_id:e,rating:a,review:n,action:"unicamp_place_rating"},beforeSend:function(){t.addClass("updating-icon")},success:function(e){var t=e.data.review_id,e=e.data.review;o(".tutor-review-"+t+" .review-content").html(e),location.reload()}})}),o(".btn-toggle-lesson-sidebar").on("click",function(){t.toggleClass("lesson-sidebar-on")}),o(document).on("click",".tutor-single-lesson-a",function(){t.removeClass("lesson-sidebar-on")}),o(document).on("click",function(e){"tutor-lesson-sidebar"!==e.target.id&&(o(e.target).closest("#tutor-lesson-sidebar").length||o(e.target).closest(".btn-toggle-lesson-sidebar").length||992<=window.innerWidth||t.removeClass("lesson-sidebar-on"))}),o(".dashboard-header-toggle-menu").on("click",function(){t.toggleClass("dashboard-nav-opened")}),o("#tutor-dashboard-left-menu").on("click",function(e){"dashboard-nav-wrapper"!==e.target.id&&(o(e.target).closest("#dashboard-nav-wrapper").length||t.removeClass("dashboard-nav-opened"))}),e(),o(window).on("resize",function(){e()})})}(jQuery);